{"ast":null,"code":"import firebase, { database } from \"../../firebase\";\nexport const actionUserName = () => dispatch => {\n  setTimeout(() => {\n    return dispatch({\n      type: \"CHANGE_USER\",\n      value: \"Raissa\"\n    });\n  }, 1500);\n};\nexport const loginUserAPI = data => dispatch => {\n  console.log(data);\n  return new Promise((resolve, reject) => {\n    dispatch({\n      type: \"CHANGE_LOADING\",\n      value: true\n    });\n    firebase.auth().signInWithEmailAndPassword(data.email, data.password).then(res => {\n      console.log(\"Response \", res);\n      const userData = {\n        email: res.user.email,\n        uid: res.user.uid,\n        emailVerified: res.user.emailVerified,\n        refreshToken: res.user.refreshToken\n      }; // Set isLoading jadi false lagi setelah selesai\n\n      dispatch({\n        type: \"CHANGE_LOADING\",\n        value: false\n      });\n      dispatch({\n        type: \"CHANGE_ISLOGIN\",\n        value: true\n      });\n      dispatch({\n        type: \"CHANGE_USER\",\n        value: userData\n      });\n      resolve(userData);\n    }).catch(function (error) {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(errorCode);\n      console.log(errorMessage);\n      dispatch({\n        type: \"CHANGE_LOADING\",\n        value: false\n      });\n      dispatch({\n        type: \"CHANGE_ISLOGIN\",\n        value: false\n      });\n      dispatch({\n        type: \"SHOW_ERRORMESSAGE\",\n        value: errorMessage\n      });\n      reject(false);\n    });\n  });\n};\nexport const logOutUser = data => dispatch => {\n  firebase.auth().signOut().then(function () {\n    //Sign-out successful.\n    localStorage.clear();\n    console.log(\"Sukses Sign Out !\");\n  }).catch(function (error) {// An error happened.\n  });\n}; // Post API from Dashboard -> Ini contoh yang pake redux yang bikin reducer dulu\n\nexport const addDataToAPI = data => dispatch => {\n  database.ref(\"Products/\" + data.category).push({\n    title: data.title,\n    content: data.content,\n    category: data.category,\n    imageUrl: data.imageUrl,\n    createdDate: data.createdDate,\n    createdBy: data.userId\n  });\n}; // Get data api using redux\n\nexport const getDataFromAPI = userId => dispatch => {\n  // var urlNotes = firebase.database().ref(\"Products/CuttingTool\");\n  var urlNotes = firebase.database().ref(\"Products/\");\n  return new Promise((resolve, reject) => {\n    urlNotes.on(\"value\", function (snapshot) {\n      // ubah object jadi Array\n      const data = [];\n\n      if (snapshot.val()) {\n        Object.keys(snapshot.val() && snapshot.val()).map(key => {\n          data.push({\n            id: key,\n            data: snapshot.val()[key]\n          });\n        });\n      }\n\n      console.log(\"DATA BUAT CEK GET API \", data);\n      dispatch({\n        type: \"SET_NOTES\",\n        value: data\n      });\n      resolve(snapshot.val());\n    });\n  });\n};\nexport const addProductsDetail = data => dispatch => {\n  database.ref(\"Products/\" + data.productsId).push({\n    imageUrl: data.imageUrl\n  });\n  console.log(\"result action \", data);\n}; // Get data api using redux\n\nexport const getDetailProductImages = data => dispatch => {\n  var urlNotes = firebase.database().ref(\"Products/\" + data.category);\n  urlNotes.on(\"value\", function (snapshot) {\n    // ubah object jadi Array\n    const datas = [];\n\n    if (snapshot.val()) {\n      Object.keys(snapshot.val() && snapshot.val()).map(key => {\n        datas.push({\n          id: key,\n          data: snapshot.val()[key]\n        });\n      });\n    } // console.log(\"Data untuk di Modal \", data);\n\n\n    dispatch({\n      type: \"SHOW_MORE_IMAGE\",\n      value: datas\n    });\n  });\n  console.log(\"CEK WOI\", data); // if(data[0].data.dummy){\n  //   console.log(\"HALO\")\n  //   database.ref(\"Products/\" + data.category + '/' + data[0].id).remove();\n  // }\n};\nexport const deleteMainProduct = data => dispatch => {\n  console.log(\"Deleted product data\", data); // Cannot delete the image when there is only one image left\n\n  if (data.totalImage == \"1\") {\n    alert(\"You must at least have 1 image for each category!\");\n  } else {\n    database.ref(\"Products/\" + data.category + \"/\" + data.productId).remove();\n  }\n};\nexport const addCategory = data => dispatch => {\n  database.ref(\"Products/\" + data.category).push({\n    dummy: data.category\n  });\n};\nexport const deleteCategory = data => dispatch => {\n  if (data.category == \"Arbor\") {\n    alert(\"Cannot delete your main product!\");\n  } else {\n    database.ref(\"Products/\" + data.category).remove();\n  }\n};","map":{"version":3,"sources":["C:/File Ch/test1 updates/asdf/src/config/redux/action/index.js"],"names":["firebase","database","actionUserName","dispatch","setTimeout","type","value","loginUserAPI","data","console","log","Promise","resolve","reject","auth","signInWithEmailAndPassword","email","password","then","res","userData","user","uid","emailVerified","refreshToken","catch","error","errorCode","code","errorMessage","message","logOutUser","signOut","localStorage","clear","addDataToAPI","ref","category","push","title","content","imageUrl","createdDate","createdBy","userId","getDataFromAPI","urlNotes","on","snapshot","val","Object","keys","map","key","id","addProductsDetail","productsId","getDetailProductImages","datas","deleteMainProduct","totalImage","alert","productId","remove","addCategory","dummy","deleteCategory"],"mappings":"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","sourcesContent":["import firebase, { database } from \"../../firebase\";\r\n\r\nexport const actionUserName = () => dispatch => {\r\n  setTimeout(() => {\r\n    return dispatch({ type: \"CHANGE_USER\", value: \"Raissa\" });\r\n  }, 1500);\r\n};\r\n\r\nexport const loginUserAPI = data => dispatch => {\r\n  console.log(data);\r\n  return new Promise((resolve, reject) => {\r\n    dispatch({ type: \"CHANGE_LOADING\", value: true });\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(data.email, data.password)\r\n      .then(res => {\r\n        console.log(\"Response \", res);\r\n        const userData = {\r\n          email: res.user.email,\r\n          uid: res.user.uid,\r\n          emailVerified: res.user.emailVerified,\r\n          refreshToken: res.user.refreshToken\r\n        };\r\n        // Set isLoading jadi false lagi setelah selesai\r\n        dispatch({ type: \"CHANGE_LOADING\", value: false });\r\n        dispatch({ type: \"CHANGE_ISLOGIN\", value: true });\r\n        dispatch({ type: \"CHANGE_USER\", value: userData });\r\n        resolve(userData);\r\n      })\r\n      .catch(function(error) {\r\n        // Handle Errors here.\r\n        var errorCode = error.code;\r\n        var errorMessage = error.message;\r\n        console.log(errorCode);\r\n        console.log(errorMessage);\r\n        dispatch({ type: \"CHANGE_LOADING\", value: false });\r\n        dispatch({ type: \"CHANGE_ISLOGIN\", value: false });\r\n        dispatch({ type: \"SHOW_ERRORMESSAGE\", value: errorMessage });\r\n        reject(false);\r\n      });\r\n  });\r\n};\r\n\r\nexport const logOutUser = data => dispatch => {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(function() {\r\n      //Sign-out successful.\r\n      localStorage.clear();\r\n      console.log(\"Sukses Sign Out !\");\r\n    })\r\n    .catch(function(error) {\r\n      // An error happened.\r\n    });\r\n};\r\n\r\n// Post API from Dashboard -> Ini contoh yang pake redux yang bikin reducer dulu\r\nexport const addDataToAPI = data => dispatch => {\r\n  database.ref(\"Products/\" + data.category).push({\r\n    title: data.title,\r\n    content: data.content,\r\n    category: data.category,\r\n    imageUrl: data.imageUrl,\r\n    createdDate: data.createdDate,\r\n    createdBy: data.userId\r\n  });\r\n};\r\n\r\n// Get data api using redux\r\nexport const getDataFromAPI = userId => dispatch => {\r\n  // var urlNotes = firebase.database().ref(\"Products/CuttingTool\");\r\n  var urlNotes = firebase.database().ref(\"Products/\");\r\n  return new Promise((resolve, reject) => {\r\n    urlNotes.on(\"value\", function(snapshot) {\r\n      // ubah object jadi Array\r\n      const data = [];\r\n      if (snapshot.val()) {\r\n        Object.keys(snapshot.val() && snapshot.val()).map(key => {\r\n          data.push({\r\n            id: key,\r\n            data: snapshot.val()[key]\r\n          });\r\n        });\r\n      }\r\n      console.log(\"DATA BUAT CEK GET API \", data);\r\n      dispatch({ type: \"SET_NOTES\", value: data });\r\n      resolve(snapshot.val());\r\n    });\r\n  });\r\n};\r\n\r\nexport const addProductsDetail = data => dispatch => {\r\n  database.ref(\"Products/\" + data.productsId).push({\r\n    imageUrl: data.imageUrl\r\n  });\r\n  console.log(\"result action \", data);\r\n};\r\n\r\n// Get data api using redux\r\nexport const getDetailProductImages = data => dispatch => {\r\n  var urlNotes = firebase.database().ref(\"Products/\" + data.category);\r\n  urlNotes.on(\"value\", function(snapshot) {\r\n    // ubah object jadi Array\r\n    const datas = [];\r\n    if (snapshot.val()) {\r\n      Object.keys(snapshot.val() && snapshot.val()).map(key => {\r\n        datas.push({\r\n          id: key,\r\n          data: snapshot.val()[key]\r\n        });\r\n      });\r\n    }\r\n    // console.log(\"Data untuk di Modal \", data);\r\n    dispatch({ type: \"SHOW_MORE_IMAGE\", value: datas });\r\n  });\r\n\r\n  console.log(\"CEK WOI\" , data)\r\n    // if(data[0].data.dummy){\r\n    //   console.log(\"HALO\")\r\n    //   database.ref(\"Products/\" + data.category + '/' + data[0].id).remove();\r\n    // }\r\n};\r\n\r\nexport const deleteMainProduct = data => dispatch => {\r\n  console.log(\"Deleted product data\", data);\r\n  // Cannot delete the image when there is only one image left\r\n  if (data.totalImage == \"1\") {\r\n    alert(\"You must at least have 1 image for each category!\");\r\n  } else {\r\n    database.ref(\"Products/\" + data.category + \"/\" + data.productId).remove();\r\n  }\r\n};\r\n\r\nexport const addCategory = data => dispatch => {\r\n  database.ref(\"Products/\" + data.category).push({\r\n    dummy: data.category\r\n  });\r\n};\r\n\r\nexport const deleteCategory = data => dispatch => {\r\n  if (data.category == \"Arbor\") {\r\n    alert(\"Cannot delete your main product!\");\r\n  } else {\r\n    database.ref(\"Products/\" + data.category).remove();\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}